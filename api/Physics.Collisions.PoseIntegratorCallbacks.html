<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Struct PoseIntegratorCallbacks
 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Struct PoseIntegratorCallbacks
 ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/Non-Euclidean-World/Hyper/new/main/apiSpec/new?filename=Physics_Collisions_PoseIntegratorCallbacks.md&amp;value=---%0Auid%3A%20Physics.Collisions.PoseIntegratorCallbacks%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">
  </head>

  <script type="module" src="./../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Physics.Collisions.PoseIntegratorCallbacks">



  <h1 id="Physics_Collisions_PoseIntegratorCallbacks" data-uid="Physics.Collisions.PoseIntegratorCallbacks" class="text-break">
    Struct PoseIntegratorCallbacks
  <a class="header-action link-secondary" title="View source" href="https://github.com/Non-Euclidean-World/Hyper/blob/main/Physics/Collisions/PoseIntegratorCallbacks.cs/#L9"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="Physics.html">Physics</a>.<a class="xref" href="Physics.Collisions.html">Collisions</a></dd></dl>
  <dl><dt>Assembly</dt><dd>Physics.dll</dd></dl>
  </div>

  <div class="markdown summary"></div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public struct PoseIntegratorCallbacks : IPoseIntegratorCallbacks</code></pre>
  </div>





  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><span class="xref">IPoseIntegratorCallbacks</span></div>
    </dd>
  </dl>


  <dl class="typelist derived">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetype.equals">ValueType.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetype.gethashcode">ValueType.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetype.tostring">ValueType.ToString()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
  </dd></dl>






  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="Physics_Collisions_PoseIntegratorCallbacks__ctor_" data-uid="Physics.Collisions.PoseIntegratorCallbacks.#ctor*"></a>

  <h3 id="Physics_Collisions_PoseIntegratorCallbacks__ctor_System_Numerics_Vector3_System_Single_System_Single_" data-uid="Physics.Collisions.PoseIntegratorCallbacks.#ctor(System.Numerics.Vector3,System.Single,System.Single)">
  PoseIntegratorCallbacks(Vector3, float, float)
  <a class="header-action link-secondary" title="View source" href="https://github.com/Non-Euclidean-World/Hyper/blob/main/Physics/Collisions/PoseIntegratorCallbacks.cs/#L57"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Creates a new set of simple callbacks for the demos.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public PoseIntegratorCallbacks(Vector3 gravity, float linearDamping = 0.03, float angularDamping = 0.03)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>gravity</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.numerics.vector3">Vector3</a></dt>
    <dd><p>Gravity to apply to dynamic bodies in the simulation.</p>
</dd>
    <dt><code>linearDamping</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.single">float</a></dt>
    <dd><p>Fraction of dynamic body linear velocity to remove per unit of time. Values range from 0 to 1. 0 is fully undamped, while values very close to 1 will remove most velocity.</p>
</dd>
    <dt><code>angularDamping</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.single">float</a></dt>
    <dd><p>Fraction of dynamic body angular velocity to remove per unit of time. Values range from 0 to 1. 0 is fully undamped, while values very close to 1 will remove most velocity.</p>
</dd>
  </dl>












  <h2 class="section" id="fields">Fields
</h2>



  <h3 id="Physics_Collisions_PoseIntegratorCallbacks_AngularDamping" data-uid="Physics.Collisions.PoseIntegratorCallbacks.AngularDamping">
  AngularDamping
  <a class="header-action link-secondary" title="View source" href="https://github.com/Non-Euclidean-World/Hyper/blob/main/Physics/Collisions/PoseIntegratorCallbacks.cs/#L22"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Fraction of dynamic body angular velocity to remove per unit of time. Values range from 0 to 1. 0 is fully undamped, while values very close to 1 will remove most velocity.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public float AngularDamping</code></pre>
  </div>




  <h4 class="section">Field Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.single">float</a></dt>
    <dd></dd>
  </dl>










  <h3 id="Physics_Collisions_PoseIntegratorCallbacks_Gravity" data-uid="Physics.Collisions.PoseIntegratorCallbacks.Gravity">
  Gravity
  <a class="header-action link-secondary" title="View source" href="https://github.com/Non-Euclidean-World/Hyper/blob/main/Physics/Collisions/PoseIntegratorCallbacks.cs/#L14"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gravity to apply to dynamic bodies in the simulation.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Vector3 Gravity</code></pre>
  </div>




  <h4 class="section">Field Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.numerics.vector3">Vector3</a></dt>
    <dd></dd>
  </dl>










  <h3 id="Physics_Collisions_PoseIntegratorCallbacks_LinearDamping" data-uid="Physics.Collisions.PoseIntegratorCallbacks.LinearDamping">
  LinearDamping
  <a class="header-action link-secondary" title="View source" href="https://github.com/Non-Euclidean-World/Hyper/blob/main/Physics/Collisions/PoseIntegratorCallbacks.cs/#L18"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Fraction of dynamic body linear velocity to remove per unit of time. Values range from 0 to 1. 0 is fully undamped, while values very close to 1 will remove most velocity.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public float LinearDamping</code></pre>
  </div>




  <h4 class="section">Field Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.single">float</a></dt>
    <dd></dd>
  </dl>









  <h2 class="section" id="properties">Properties
</h2>


  <a id="Physics_Collisions_PoseIntegratorCallbacks_AllowSubstepsForUnconstrainedBodies_" data-uid="Physics.Collisions.PoseIntegratorCallbacks.AllowSubstepsForUnconstrainedBodies*"></a>

  <h3 id="Physics_Collisions_PoseIntegratorCallbacks_AllowSubstepsForUnconstrainedBodies" data-uid="Physics.Collisions.PoseIntegratorCallbacks.AllowSubstepsForUnconstrainedBodies">
  AllowSubstepsForUnconstrainedBodies
  <a class="header-action link-secondary" title="View source" href="https://github.com/Non-Euclidean-World/Hyper/blob/main/Physics/Collisions/PoseIntegratorCallbacks.cs/#L35"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets whether the integrator should use substepping for unconstrained bodies when using a substepping solver.
If true, unconstrained bodies will be integrated with the same number of substeps as the constrained bodies in the solver.
If false, unconstrained bodies use a single step of length equal to the dt provided to Simulation.Timestep.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public readonly bool AllowSubstepsForUnconstrainedBodies { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>








  <a id="Physics_Collisions_PoseIntegratorCallbacks_AngularIntegrationMode_" data-uid="Physics.Collisions.PoseIntegratorCallbacks.AngularIntegrationMode*"></a>

  <h3 id="Physics_Collisions_PoseIntegratorCallbacks_AngularIntegrationMode" data-uid="Physics.Collisions.PoseIntegratorCallbacks.AngularIntegrationMode">
  AngularIntegrationMode
  <a class="header-action link-secondary" title="View source" href="https://github.com/Non-Euclidean-World/Hyper/blob/main/Physics/Collisions/PoseIntegratorCallbacks.cs/#L28"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets how the pose integrator should handle angular velocity integration.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public readonly AngularIntegrationMode AngularIntegrationMode { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><span class="xref">AngularIntegrationMode</span></dt>
    <dd></dd>
  </dl>








  <a id="Physics_Collisions_PoseIntegratorCallbacks_IntegrateVelocityForKinematics_" data-uid="Physics.Collisions.PoseIntegratorCallbacks.IntegrateVelocityForKinematics*"></a>

  <h3 id="Physics_Collisions_PoseIntegratorCallbacks_IntegrateVelocityForKinematics" data-uid="Physics.Collisions.PoseIntegratorCallbacks.IntegrateVelocityForKinematics">
  IntegrateVelocityForKinematics
  <a class="header-action link-secondary" title="View source" href="https://github.com/Non-Euclidean-World/Hyper/blob/main/Physics/Collisions/PoseIntegratorCallbacks.cs/#L43"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets whether the velocity integration callback should be called for kinematic bodies.
If true, IntegrateVelocity will be called for bundles including kinematic bodies.
If false, kinematic bodies will just continue using whatever velocity they have set.
Most use cases should set this to false.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public readonly bool IntegrateVelocityForKinematics { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="Physics_Collisions_PoseIntegratorCallbacks_Initialize_" data-uid="Physics.Collisions.PoseIntegratorCallbacks.Initialize*"></a>

  <h3 id="Physics_Collisions_PoseIntegratorCallbacks_Initialize_BepuPhysics_Simulation_" data-uid="Physics.Collisions.PoseIntegratorCallbacks.Initialize(BepuPhysics.Simulation)">
  Initialize(Simulation)
  <a class="header-action link-secondary" title="View source" href="https://github.com/Non-Euclidean-World/Hyper/blob/main/Physics/Collisions/PoseIntegratorCallbacks.cs/#L45"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Performs any required initialization logic after the Simulation instance has been constructed.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Initialize(Simulation simulation)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>simulation</code> <span class="xref">Simulation</span></dt>
    <dd><p>Simulation that owns these callbacks.</p>
</dd>
  </dl>












  <a id="Physics_Collisions_PoseIntegratorCallbacks_IntegrateVelocity_" data-uid="Physics.Collisions.PoseIntegratorCallbacks.IntegrateVelocity*"></a>

  <h3 id="Physics_Collisions_PoseIntegratorCallbacks_IntegrateVelocity_System_Numerics_Vector_System_Int32__BepuUtilities_Vector3Wide_BepuUtilities_QuaternionWide_BepuPhysics_BodyInertiaWide_System_Numerics_Vector_System_Int32__System_Int32_System_Numerics_Vector_System_Single__BepuPhysics_BodyVelocityWide__" data-uid="Physics.Collisions.PoseIntegratorCallbacks.IntegrateVelocity(System.Numerics.Vector{System.Int32},BepuUtilities.Vector3Wide,BepuUtilities.QuaternionWide,BepuPhysics.BodyInertiaWide,System.Numerics.Vector{System.Int32},System.Int32,System.Numerics.Vector{System.Single},BepuPhysics.BodyVelocityWide@)">
  IntegrateVelocity(Vector&lt;int&gt;, Vector3Wide, QuaternionWide, BodyInertiaWide, Vector&lt;int&gt;, int, Vector&lt;float&gt;, ref BodyVelocityWide)
  <a class="header-action link-secondary" title="View source" href="https://github.com/Non-Euclidean-World/Hyper/blob/main/Physics/Collisions/PoseIntegratorCallbacks.cs/#L96"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Callback for a bundle of bodies being integrated.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void IntegrateVelocity(Vector&lt;int&gt; bodyIndices, Vector3Wide position, QuaternionWide orientation, BodyInertiaWide localInertia, Vector&lt;int&gt; integrationMask, int workerIndex, Vector&lt;float&gt; dt, ref BodyVelocityWide velocity)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>bodyIndices</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.numerics.vector-1">Vector</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>&gt;</dt>
    <dd><p>Indices of the bodies being integrated in this bundle.</p>
</dd>
    <dt><code>position</code> <span class="xref">Vector3Wide</span></dt>
    <dd><p>Current body positions.</p>
</dd>
    <dt><code>orientation</code> <span class="xref">QuaternionWide</span></dt>
    <dd><p>Current body orientations.</p>
</dd>
    <dt><code>localInertia</code> <span class="xref">BodyInertiaWide</span></dt>
    <dd><p>Body's current local inertia.</p>
</dd>
    <dt><code>integrationMask</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.numerics.vector-1">Vector</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>&gt;</dt>
    <dd><p>Mask indicating which lanes are active in the bundle. Active lanes will contain 0xFFFFFFFF, inactive lanes will contain 0.</p>
</dd>
    <dt><code>workerIndex</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Index of the worker thread processing this bundle.</p>
</dd>
    <dt><code>dt</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.numerics.vector-1">Vector</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.single">float</a>&gt;</dt>
    <dd><p>Durations to integrate the velocity over. Can vary over lanes.</p>
</dd>
    <dt><code>velocity</code> <span class="xref">BodyVelocityWide</span></dt>
    <dd><p>Velocity of bodies in the bundle. Any changes to lanes which are not active by the integrationMask will be discarded.</p>
</dd>
  </dl>












  <a id="Physics_Collisions_PoseIntegratorCallbacks_PrepareForIntegration_" data-uid="Physics.Collisions.PoseIntegratorCallbacks.PrepareForIntegration*"></a>

  <h3 id="Physics_Collisions_PoseIntegratorCallbacks_PrepareForIntegration_System_Single_" data-uid="Physics.Collisions.PoseIntegratorCallbacks.PrepareForIntegration(System.Single)">
  PrepareForIntegration(float)
  <a class="header-action link-secondary" title="View source" href="https://github.com/Non-Euclidean-World/Hyper/blob/main/Physics/Collisions/PoseIntegratorCallbacks.cs/#L76"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Callback invoked ahead of dispatches that may call into <a class="xref" href="Physics.Collisions.PoseIntegratorCallbacks.html#Physics_Collisions_PoseIntegratorCallbacks_IntegrateVelocity_System_Numerics_Vector_System_Int32__BepuUtilities_Vector3Wide_BepuUtilities_QuaternionWide_BepuPhysics_BodyInertiaWide_System_Numerics_Vector_System_Int32__System_Int32_System_Numerics_Vector_System_Single__BepuPhysics_BodyVelocityWide__">IntegrateVelocity(Vector&lt;int&gt;, Vector3Wide, QuaternionWide, BodyInertiaWide, Vector&lt;int&gt;, int, Vector&lt;float&gt;, ref BodyVelocityWide)</a>.
It may be called more than once with different values over a frame. For example, when performing bounding box prediction, velocity is integrated with a full frame time step duration.
During substepped solves, integration is split into substepCount steps, each with fullFrameDuration / substepCount duration.
The final integration pass for unconstrained bodies may be either fullFrameDuration or fullFrameDuration / substepCount, depending on the value of AllowSubstepsForUnconstrainedBodies.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void PrepareForIntegration(float dt)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>dt</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.single">float</a></dt>
    <dd><p>Current integration time step duration.</p>
</dd>
  </dl>








  <h4 class="section" id="Physics_Collisions_PoseIntegratorCallbacks_PrepareForIntegration_System_Single__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This is typically used for precomputing anything expensive that will be used across velocity integration.</p>
</div>





</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/Non-Euclidean-World/Hyper/blob/main/Physics/Collisions/PoseIntegratorCallbacks.cs/#L9" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
